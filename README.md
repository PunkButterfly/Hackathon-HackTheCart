# Хакатон HackTheCart 2022

Хакатон от ЛЕНТЫ

## Задание

Тысячи клиентов ежедневно заходят в приложение “Лента Онлайн”, чтобы купить продукты с доставкой на дом. Вам предстоит разработать решение, которое позволит клиентам не забыть положить в корзину все необходимое и сократить время на шопинг, а “Ленте” – увеличить прибыль интернет-магазина.

### Данные 

hist_data.csv - исторические данные о покупках
- buyer_id - id покупателя
- pav_order_id - id заказа
- created - время добавления в заказ
- item_id - id item'а
- count - количество выбранного товара в заказе
- price_sold - цена за 1 item
- flag_weight_goods - бинарный флаг того, является ли товар весовым
- weight - вес заказа

test.csv - текущее состояние корзины (последний заказ пользователя)
- buyer_id - id покупателя
- pav_order_id - id заказа
- created - время добавления в заказ
- item_id - id item'а (товара)
- count - количество выбранного товара в заказе
- price_sold - цена за 1 item
- flag_weight_goods - бинарный флаг того, является ли товар весовым

## Решение

Если переходить к более формальной постановке задачи, необходило было разработать рекомендательную систему, которая, основываясь на исторических данных о покупках, рекомендовала товары пользователю, с учётом текущей корзины.
К сожалению, ноутбуки с исследованием не сохранились :c.
Наше [решение](https://github.com/PunkButterfly/Hackathon-HackTheCart/blob/main/%D0%A0%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5.ipynb) заключалось в выделении постоянных пользователей, чтобы рекомендовать им товары, основываясь на их личной истории покупок. Для этого для каждого покупателя был введён гипер-параметр **n_orders**, который равен количеству заказов в магазине. Методом подбора, мы решили, что оптимальное значение этого параметра следует установить равным трём. 

Сама суть решения: 
1.  Выделяем постоянных пользователей;
2.  Для каждого постоянного пользователя составляем рейтинг покупок: 10 - самый частопокупаемый товар, 1 - товар, который покупался реже всего;
3.  Во время рекомендации товаров смотрим, есть ли пользователь в базе постоянных. Если это не так, то используем решение [baseline](https://github.com/PunkButterfly/Hackathon-HackTheCart/blob/main/baseline.ipynb);
4.  Если пользователь всё же в нашей базе, то мы возвращаем товары с самым большим рейтингом пользователя, которые ещё не находятся в текущей корзине.

## Результаты

Благодоря такому подходу, в первый день мы заняли 2 место на лидерборде из ~250 команд. Но, к сожалению, дальнейшие попытки введения новых методов не приносили необходимого результата, поэтому мы заняли 12 место.
